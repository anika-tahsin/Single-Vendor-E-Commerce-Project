{% extends 'base.html' %}
{% block title %}Home{% endblock %}
{% block content %}

<div class="max-w-6xl mx-auto px-4">
  <form method="get" action="" class="flex flex-wrap gap-4 items-center mb-6">
    <input type="text" name="q" placeholder="Search..." value="{{ request.GET.q }}"
      class="px-4 py-2 border rounded w-full md:w-1/2" />

    <select name="category" class="px-4 py-2 border rounded">
      <option value="">All Categories</option>
      {% for cat in categories %}
        <option value="{{ cat.id }}" {% if request.GET.category == cat.id|stringformat:"s" %}selected{% endif %}>
          {{ cat.name }}
        </option>
      {% endfor %}
    </select>

    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Filter</button>
  </form>

  <!-- Products Grid -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
    {% for product in products %}
      <!-- Same product card as before -->
    {% empty %}
      <p>No products found.</p>
    {% endfor %}
  </div>
</div>

{% endblock %}
